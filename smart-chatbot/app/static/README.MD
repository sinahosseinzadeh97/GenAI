# Smart Chatbot

Welcome to the Smart Chatbot projectâ€”a full-stack AI-powered chatbot application built with FastAPI, MongoDB, and a simple frontend interface. It leverages OpenAI to generate responses, stores chat history in MongoDB, and runs in Docker containers for easy deployment.

---

## ğŸš€ Features

* **AI Chat**: Conversational interface powered by OpenAI GPT models.
* **Session Management**: Optional session ID to maintain conversation context.
* **Chat History**: Persist chat logs in MongoDB and retrieve via REST API.
* **Frontend SPA**: Lightweight single-page application served by FastAPI.
* **Dockerized**: All services (API, database, frontend) run in containers.
* **CORS Enabled**: Configurable origins for cross-domain requests.
* **Health Check**: `/health` endpoint to verify service status.

---

## ğŸ“ Project Structure

```
smart-chatbot/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                 # FastAPI route definitions
â”‚   â”‚   â””â”€â”€ chat.py          # Chat endpoints
â”‚   â”œâ”€â”€ core/                # Configuration and utilities
â”‚   â”‚   â”œâ”€â”€ config.py        # Environment settings
â”‚   â”‚   â””â”€â”€ openai_client.py # OpenAI client wrapper
â”‚   â”œâ”€â”€ db/                  # Database connection
â”‚   â”‚   â””â”€â”€ mongodb.py       # MongoDB startup/shutdown
â”‚   â”œâ”€â”€ models/              # Pydantic schemas
â”‚   â”‚   â””â”€â”€ schemas.py       # Request/response models
â”‚   â”œâ”€â”€ services/            # Business logic
â”‚   â”‚   â””â”€â”€ chat_service.py  # Chat processing & history
â”‚   â””â”€â”€ main.py              # App factory & routing
â”œâ”€â”€ static/                  # Frontend single-page application
â”‚   â””â”€â”€ index.html           # HTML + JS chat interface
â”œâ”€â”€ Dockerfile               # API service container
â”œâ”€â”€ docker-compose.yml       # Orchestration for API + MongoDB
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ .env.example             # Sample environment variables
â””â”€â”€ README.md                # Project documentation
```

---

## âš™ï¸ Prerequisites

* Docker & Docker Compose
* OpenAI API Key (set in `.env`)
* MongoDB (via Docker Compose)

---

## ğŸ”§ Setup & Installation

1. **Clone the repository**:

   ```bash
   git clone https://github.com/yourusername/smart-chatbot.git
   cd smart-chatbot
   ```

2. **Copy environment variables**:

   ```bash
   cp .env.example .env
   ```

   Fill in your OpenAI key and other settings in `.env`:

   ```ini
   OPENAI_API_KEY=your_openai_api_key
   OPENAI_MODEL=gpt-3.5-turbo
   MONGODB_URI=mongodb://mongodb:27017
   ```

3. **Build and start services**:

   ```bash
   docker-compose up --build
   ```

   * The API will be available at `http://localhost:8000/`.
   * MongoDB will run on port `27017`.

---

## ğŸ“¦ Usage

### API Endpoints

* **Root**: `GET /` â€” Serves the frontend chat interface.
* **Docs**: `GET /docs` â€” OpenAPI documentation (Swagger UI).
* **Health**: `GET /health` â€” Returns `{ "status": "healthy" }`.
* **Chat**: `POST /api/v1/chat` â€” Send `{ "message": "..." }`, receive AI response.
* **History**: `GET /api/v1/chat/history/{session_id}` â€” Retrieve past messages for a session.

### Frontend Chat

* Navigate to `http://localhost:8000/` in your browser.
* Type your message in the input box and press **Send**.
* View AI responses and scroll through the conversation.

---

## ğŸŒ Environment Variables

| Variable         | Description                       | Example               |
| ---------------- | --------------------------------- | --------------------- |
| `OPENAI_API_KEY` | Your OpenAI API secret key        | `sk-xxx`              |
| `OPENAI_MODEL`   | Model name (e.g. `gpt-3.5-turbo`) | `gpt-4`               |
| `MONGODB_URI`    | MongoDB connection string         | `mongodb://...:27017` |
| `API_VERSION`    | API version prefix (e.g. `v1`)    | `v1`                  |
| `CORS_ORIGINS`   | Allowed CORS origins (JSON list)  | `["*"]`               |

---

## ğŸ³ Docker

* **Build**: `docker-compose build`
* **Run**:   `docker-compose up`
* **Logs**:  `docker-compose logs -f api`
* **Stop**:  `docker-compose down`

---

## ğŸ¤ Contributing

Feel free to open issues or submit pull requests for bug fixes and enhancements. Please follow the [Contributing Guide](CONTRIBUTING.md) if available.

---

## ğŸ‘¤ Author

**Sina Hosseinzade** â€” [LinkedIn](https://www.linkedin.com/in/sina-hosseinzade20/)

---

## ğŸ“„ License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.
